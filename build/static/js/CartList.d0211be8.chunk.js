"use strict";(self.webpackChunkcart_shop=self.webpackChunkcart_shop||[]).push([[446],{6806:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var c=s(2791),l=s(4420),a=s(8094),r=s(5596),i=s(272),n=s(184);const o=e=>(0,n.jsxs)("div",{className:" cart__one-product",children:[(0,n.jsx)("table",{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{className:"cart__goods-list",children:[(0,n.jsx)("td",{children:"Name good"}),(0,n.jsx)("td",{children:"Price for one item"}),(0,n.jsx)("td",{children:"Quantity"}),(0,n.jsx)("td",{children:"Price all item"})]}),(0,n.jsxs)("tr",{className:"cart__goods",children:[(0,n.jsxs)("td",{className:"cart__goods-name",children:[(0,n.jsx)("h2",{className:"cart__goods-title",children:e.title}),(0,n.jsx)("img",{className:"cart__image-table-td",src:e.image,alt:e.title})]}),(0,n.jsxs)("td",{className:"cart__goods-price-one",children:[e.cost," ",e.currency]}),(0,n.jsx)("td",{className:"cart__goods-quantity",children:e.quantity}),(0,n.jsx)("td",{className:"cart__goods-price-all",children:e.priceAllItem})]})]})}),(0,n.jsxs)("div",{className:"cart__btn-block",children:[(0,n.jsx)("button",{className:"cart__delete-one-position delete-one-position btn","data-key":e.articul,children:"Delete one position"}),(0,n.jsx)("button",{className:"cart__delete-quantity delete-quantity btn","data-key":e.articul,children:"Delete quantity"})]})]}),d="ErrorBeckend_root__F2ACB",u=()=>{const e=(0,l.I0)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{}),(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("h1",{children:"\u041e\u0439... \u041c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440."}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0435\u043a\u0435\u043d\u0434\u0430. \u041d\u0430\u0448\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u0440\u0437\u0438\u043d\u044b."}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u0440\u044b, \u043f\u043e\u0442\u043e\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443."}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"btn",onClick:()=>{e((0,r.LL)())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e"})]})]})};var m=s(4456),_=s(8741);const j=()=>{const e=(0,m.TL)(),t=(0,l.v9)(r.GD),s=(0,l.v9)(r.K7),d=(0,l.v9)(a.is),j=(0,l.v9)(a.r2),h=(0,l.v9)(i.UL),x=(0,l.v9)(r.KY),b=(0,c.useRef)(null),g=(0,c.useContext)(_.t);let N=(0,l.v9)(a.hP);(0,c.useEffect)((()=>{void 0!==N&&e((0,a.AL)(Object.values(x).reduce(((e,t)=>e+t),0)))}),[x,N,e]),(0,c.useEffect)((()=>{t&&0===N&&e((0,r.JD)(!1))}),[N,t,e]);(0,c.useEffect)((()=>{const t=t=>{const s=t;[b.current,null===g||void 0===g?void 0:g.current].some((e=>e&&s.composedPath().includes(e)))||e((0,r.JD)(!1))};return document.body.addEventListener("click",t),()=>document.body.removeEventListener("click",t)}),[]);return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsx)("section",{className:"main__goods-table-wrapper goods-table",ref:b,children:s&&Object.keys(x).length?(0,n.jsxs)("div",{className:"main__goods-table",onClick:t=>{t.preventDefault();let s=t.target;s.classList.contains("delete-one-position")&&e((0,r.h9)(s.getAttribute("data-key"))),s.classList.contains("delete-quantity")&&e((0,r.IV)(s.getAttribute("data-key")))},children:[(0,n.jsxs)("div",{className:"goods-table__full-goods-block",children:[(0,n.jsx)("ul",{className:"goods-table__full-goods",children:Object.keys(x).map(((e,t)=>{const s=h[e];return(0,n.jsxs)("li",{className:"goods-table__item",children:[s.title," - ",x[e]]},s.title+t)}))}),(0,n.jsx)("div",{className:"goods-table__clear-cart",children:(0,n.jsx)("button",{onClick:()=>e((0,r.LL)()),className:"goods-block__add-to-cart  btn clear-cart",children:"Clear cart"})}),(0,n.jsx)("div",{className:"goods-table__full-goods-close",onClick:t=>{b.current&&0!==N&&e((0,r.JD)(!1))}})]}),(0,n.jsxs)("div",{className:"cart__full-price",children:["Full price: ",(()=>{const e=Object.keys(x).map((e=>{const t=h[e].cost;return 0+Number(!d&&h?t:t/95)*x[e]}));let t=0;for(let s=0;s<e.length;s++)t+=e[s];return t})()," ",j]}),(0,n.jsx)("div",{className:"goods-table__cart cart",children:Object.keys(x).map(((e,t)=>{const s=h[e];return(0,n.jsx)(o,{title:s.title,cost:d?(s.cost/95).toFixed(0):s.cost,currency:j,quantity:x[e],priceAllItem:d?Number((s.cost/95).toFixed(0))*x[e]+" "+j:Number(s.cost)*x[e],image:s.image,articul:s.articul},s.title+t)}))})]}):(0,n.jsx)(u,{})})})}}}]);
//# sourceMappingURL=CartList.d0211be8.chunk.js.map